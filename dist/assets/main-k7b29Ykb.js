import{g as A}from"./cards-CvD_PQCs.js";import{initializeApp as B}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase as y,ref as I,get as L,child as C}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{GoogleAuthProvider as E,getAuth as R}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";const j={apiKey:"AIzaSyAc1-FWefRK9gNkaprncldWqK2jztLV43A",authDomain:"guesswhoitis-905ed.firebaseapp.com",databaseURL:"https://guesswhoitis-905ed-default-rtdb.firebaseio.com",projectId:"guesswhoitis-905ed",storageBucket:"guesswhoitis-905ed.firebasestorage.app",messagingSenderId:"72462712048",appId:"1:72462712048:web:a1ed1f84eb16b686b95635"},g=B(j);y(g);new E(g);R(g);const q=document.getElementById("container"),a=window.innerWidth>600?200:150,u=a==200?150:125,i=document.getElementById("backgroundMusic"),m=document.getElementById("toggleHover"),w=Array.from({length:window.innerHeight},()=>Array(window.innerWidth).fill(!1)),S=document.getElementById("settingsBtn"),h=document.getElementById("loader"),p=["https://shorturl.at/j0LqN","https://shorturl.at/VBilJ","https://shorturl.at/qIdRM","https://shorturl.at/y9yVX"];S.addEventListener("click",async o=>{window.location.href="/settings.html"});m.addEventListener("mousedown",function(){const o=document.querySelectorAll(".card"),t=document.querySelectorAll(".img");for(let e of o)e.classList.add("force-hover");for(let e of t)e.classList.add("force-hover")});m.addEventListener("mouseup",function(){const o=document.querySelectorAll(".card"),t=document.querySelectorAll(".img");for(let e of o)e.classList.remove("force-hover");for(let e of t)e.classList.remove("force-hover")});m.addEventListener("mouseleave",function(){const o=document.querySelectorAll(".card"),t=document.querySelectorAll(".img");for(let e of o)e.classList.remove("force-hover");for(let e of t)e.classList.remove("force-hover")});function v(o,t){return Math.floor(Math.random()*(t-o+1))+o}function b({x:o,y:t},e,r){for(let n=t-10;n<t+r+11;n+=10)for(let s=o-10;s<o+e+11;s+=10)n<window.innerHeight&&s<window.innerWidth&&n>=0&&s>=0&&(w[n][s]=!0)}function W(o,t,e,r){const n=[];for(let s=60;s<=r-t;s+=10)for(let c=30;c<=e-o;c+=10){let l=!0;for(let d=s;d<s+t;d+=10){for(let f=c;f<c+o;f+=10)if(w[d][f]){l=!1;break}if(!l)break}l&&n.push({x:c,y:s})}return n}function k(o,t){const e=document.createElement("div");e.classList.add("card"),e.textContent=t;for(let s of o)A(s,e,a,u);const r=W(a,u,window.innerWidth,window.innerHeight),n=r[v(0,r.length)];n!=null&&(b(n,a,u),e.style.left=`${n.x}px`,e.style.top=`${n.y}px`,q.appendChild(e))}function x(o,t){if(o>t)throw new Error("No se pueden generar n números únicos entre 0 y m-1 si n > m");const e=Array.from({length:t},(r,n)=>n);for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e.slice(0,o)}function H(o){const t=I(y());return L(C(t,o)).then(e=>e.exists()?e.val():(console.log("No data available"),0)).catch(e=>(console.error(e),0))}window.onload=async function(){b({x:i.getBoundingClientRect().top-i.getBoundingClientRect().top%10,y:i.getBoundingClientRect().left-i.getBoundingClientRect().left%10},i.offsetHeight,i.offsetWidth),h.style.display="block";const o=p[v(0,p.length-1)];i.src=o;const t=Object.values(await H("/")),e=Math.min(7,t.length),r=x(e,t.length);for(let n=0;n<e;n++){const s=Object.values(t.at(r[n]).effects),c=t.at(r[n]).message;k(s,c)}h.style.display="none"};
