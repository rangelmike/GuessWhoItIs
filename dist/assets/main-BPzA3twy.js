import{g as L}from"./cards-BE1hCRJ6.js";import{initializeApp as E}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase as b,ref as C,get as x,child as q}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{GoogleAuthProvider as S,getAuth as j}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";const R={apiKey:"AIzaSyAc1-FWefRK9gNkaprncldWqK2jztLV43A",authDomain:"guesswhoitis-905ed.firebaseapp.com",databaseURL:"https://guesswhoitis-905ed-default-rtdb.firebaseio.com",projectId:"guesswhoitis-905ed",storageBucket:"guesswhoitis-905ed.firebasestorage.app",messagingSenderId:"72462712048",appId:"1:72462712048:web:a1ed1f84eb16b686b95635"},p=E(R);b(p);new S(p);j(p);const M=document.getElementById("container"),d=window.innerWidth>600?200:150,i=d==150,h=i?125:150,a=document.getElementById("backgroundMusic"),f=document.getElementById("toggleHover"),A=Array.from({length:window.innerHeight},()=>Array(window.innerWidth).fill(!1)),H=document.getElementById("settingsBtn"),y=document.getElementById("loader"),v=["https://shorturl.at/j0LqN","https://shorturl.at/VBilJ","https://shorturl.at/qIdRM","https://shorturl.at/y9yVX","https://shorturl.at/McxQY","https://shorturl.at/vCwM6","https://shorturl.at/OhVhZ","https://shorturl.at/HwR7s","https://shorturl.at/3uafl","https://shorturl.at/2sb2E","https://shorturl.at/6YjXc","https://shorturl.at/ACnGT","https://shorturl.at/BWRPM","https://shorturl.at/TVAjm"];H.addEventListener("click",async r=>{window.location.href="/settings.html"});f.addEventListener("mousedown",function(){if(i)return;const r=document.querySelectorAll(".card"),e=document.querySelectorAll(".img");for(let t of r)t.classList.add("force-hover");for(let t of e)t.classList.add("force-hover")});f.addEventListener("mouseup",function(){if(i)return;const r=document.querySelectorAll(".card"),e=document.querySelectorAll(".img");for(let t of r)t.classList.remove("force-hover");for(let t of e)t.classList.remove("force-hover")});f.addEventListener("mouseleave",function(){if(i)return;const r=document.querySelectorAll(".card"),e=document.querySelectorAll(".img");for(let t of r)t.classList.remove("force-hover");for(let t of e)t.classList.remove("force-hover")});let m=!1;f.addEventListener("click",function(){if(i){if(m){const r=document.querySelectorAll(".card"),e=document.querySelectorAll(".img");for(let t of r)t.classList.remove("force-hover");for(let t of e)t.classList.remove("force-hover")}else{const r=document.querySelectorAll(".card"),e=document.querySelectorAll(".img");for(let t of r)t.classList.add("force-hover");for(let t of e)t.classList.add("force-hover")}m=!m}});function I(r,e){return Math.floor(Math.random()*(e-r+1))+r}function B({x:r,y:e},t,n){for(let s=e-10;s<e+n+11;s+=10)for(let o=r-10;o<r+t+11;o+=10)s<window.innerHeight&&o<window.innerWidth&&s>=0&&o>=0&&(A[s][o]=!0)}function k(r,e,t,n){const s=[];for(let o=60;o<=n-e-30;o+=10)for(let c=30;c<=t-r-30;c+=10){let l=!0;for(let u=o;u<o+e;u+=10){for(let g=c;g<c+r;g+=10)if(A[u][g]){l=!1;break}if(!l)break}l&&s.push({x:c,y:o})}return s}function w(r,e,t){const n=document.createElement("div");n.classList.add("card"),t&&n.classList.add("glow"),n.textContent=e;for(let c of r)L(c,n,d,h);const s=k(d,h,window.innerWidth,window.innerHeight),o=s[I(0,s.length)];o!=null&&(B(o,d,h),n.style.left=`${o.x}px`,n.style.top=`${o.y}px`,M.appendChild(n))}function W(r,e,t){if(r>e)throw new Error("No se pueden generar n números únicos entre 0 y m-1 si n > m");const n=Array.from({length:e},(c,l)=>l);for(let c=n.length-1;c>0;c--){const l=Math.floor(Math.random()*(c+1));[n[c],n[l]]=[n[l],n[c]]}const s=[];let o=0;for(;s.length<r;)n[o]!=t&&s.push(n[o]),o++;return s}function P(r){const e=C(b());return x(q(e,r)).then(t=>t.exists()?t.val():(console.log("No data available"),0)).catch(t=>(console.error(t),0))}window.onload=async function(){i&&(document.getElementById("backgroundMusic").style.width="100px",document.getElementById("toggleHover").style.right="-30px",document.getElementById("headerText").style.width="70%",document.getElementById("headerText").style.position="absolute",document.getElementById("headerText").style.left="22%"),B({x:a.getBoundingClientRect().top-a.getBoundingClientRect().top%10,y:a.getBoundingClientRect().left-a.getBoundingClientRect().left%10},a.offsetHeight,a.offsetWidth),y.style.display="block";const r=v[I(0,v.length-1)];a.src=r;const e=Object.values(await P("/"));let t=0;for(let o=1;o<e.length;o++)e.at(o).timestamp>e.at(t).timestamp&&(t=o);const n=Math.min(6,e.length),s=W(n,e.length,t);w(Object.values(e.at(t).effects),e.at(t).message,!0);for(let o=0;o<n;o++){const c=Object.values(e.at(s[o]).effects),l=e.at(s[o]).message;w(c,l)}y.style.display="none"};
