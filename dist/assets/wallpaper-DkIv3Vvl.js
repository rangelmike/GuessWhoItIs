import"./modulepreload-polyfill-B5Qt9EMX.js";import{initializeApp as k}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase as x,ref as C,get as E,child as B}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{GoogleAuthProvider as H,getAuth as v,signOut as R}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";const N={apiKey:"AIzaSyAc1-FWefRK9gNkaprncldWqK2jztLV43A",authDomain:"guesswhoitis-905ed.firebaseapp.com",databaseURL:"https://guesswhoitis-905ed-default-rtdb.firebaseio.com",projectId:"guesswhoitis-905ed",storageBucket:"guesswhoitis-905ed.firebasestorage.app",messagingSenderId:"72462712048",appId:"1:72462712048:web:a1ed1f84eb16b686b95635"},f=k(N);x(f);new H(f);const g=v(f),L=document.getElementById("container"),i=window.innerWidth>600?200:100,l=i==200?150:75,r=document.getElementById("backgroundMusic"),$=Array.from({length:window.innerHeight},()=>Array(window.innerWidth).fill(!1)),c=document.getElementById("logoutBtn"),w=document.getElementById("loader");c.addEventListener("click",()=>{R(g),window.location.href="index.html"});document.getElementById("settingsBtn").addEventListener("click",()=>{window.location.href="settings.html"});function y(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="wing left",t.src="https://i.ibb.co/1f53SP6/Lwing.png",t.alt="Left Wing",t.style.left=`-${i/1.5}px`,t.style.width=`${l}px`,e.append(t);const n=document.createElement("img");n.className="wing right",n.src="https://i.ibb.co/RYZZDzK/Rwing.png",n.alt="Right Wing",n.style.right=`-${i/1.5}px`,n.style.width=`${l}px`,e.append(n)}function W(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="halo",t.src="https://i.ibb.co/L1fG2tz/halo.png",t.alt="halo",t.style.width=`${l}px`,e.append(t)}function I(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="musicNotes",t.src="https://i.ibb.co/PNwvv3V/music-Notes.png",t.alt="notes",t.style.width=`${i}px`,e.append(t)}function A(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="TopLight",t.src="https://i.ibb.co/TY0SH8F/TopLight.png",t.alt="Tlight",t.style.width=`${i*1.3}px`,t.style.height=`${l*1.3}px`,e.append(t)}function j(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="leftLight",t.src="https://i.ibb.co/fr7VLGz/left-Light.png",t.alt="Llight",t.style.width=`${i*1.3}px`,e.append(t)}function P(e){e.style.width=`${i}px`,e.style.height=`${l}px`,j(e);const t=document.createElement("img");t.className="sun",t.src="https://i.ibb.co/b2ZT3FK/sun.png",t.alt="sun",t.style.width=`${i*.5}px`,e.append(t)}function z(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="multiHearts",t.src="https://i.ibb.co/ySt75HH/Multi-Hearts.png",t.alt="multiHearts",t.style.width=`${i}px`,e.append(t)}function D(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="pumpHeart",t.src="https://i.ibb.co/7v9JHkZ/Pump-Heart.png",t.alt="PumpHeart",t.style.width=`${i*.3}px`,e.append(t)}function K(e){e.style.width=`${i}px`,e.style.height=`${l}px`;const t=document.createElement("img");t.className="clock",t.src="https://i.ibb.co/4Vsks1W/clock.png",t.alt="clock",t.style.width=`${i*.5}px`,e.append(t)}function M(e,t){switch(e){case 1:y(t);break;case 2:W(t);break;case 3:K(t);break;case 4:I(t);break;case 5:A(t);break;case 6:P(t);break;case 7:z(t);break;case 8:D(t);break;default:y(t);break}}function S(e,t){return Math.floor(Math.random()*(t-e+1))+e}function m({x:e,y:t},n,a){for(let s=t-10;s<t+a+11;s+=10)for(let o=e-10;o<e+n+11;o+=10)s<window.innerHeight&&o<window.innerWidth&&s>=0&&o>=0&&($[s][o]=!0)}function T(e,t,n,a){const s=[];for(let o=30;o<=a-t;o+=10)for(let p=30;p<=n-e;p+=10){let d=!0;for(let h=o;h<o+t;h+=10){for(let u=p;u<p+e;u+=10)if($[h][u]){d=!1;break}if(!d)break}d&&s.push({x:p,y:o})}return s}function F(e,t){const n=document.createElement("div");n.classList.add("card"),n.textContent=t;for(let o of e)M(o,n);const a=T(i,l,window.innerWidth,window.innerHeight),s=a[S(0,a.length)];s!=null&&(m(s,i,l),n.style.left=`${s.x}px`,n.style.top=`${s.y}px`,L.appendChild(n))}function b(e){const t=C(x());return E(B(t,e)).then(n=>n.exists()?n.val():(console.log("No data available"),0)).catch(n=>(console.error(n),0))}window.onload=async function(){await g.currentUser,m({x:r.getBoundingClientRect().top-r.getBoundingClientRect().top%10,y:r.getBoundingClientRect().left-r.getBoundingClientRect().left%10},r.offsetHeight,r.offsetWidth),m({x:c.getBoundingClientRect().top-c.getBoundingClientRect().top%10,y:c.getBoundingClientRect().left-c.getBoundingClientRect().left%10},c.offsetHeight,c.offsetWidth),w.style.display="block",g.currentUser==null&&(window.location.href="index.html");const e=Object.values(await b(`/users/${g.currentUser.uid}/recivedWallpapers`)),t=Object.values(await b(`wallpapers/${e[0]}`)),n=Math.min(7,t.length);for(let a=0;a<n;a++){const s=Object.values(t.at(a).effects),o=t.at(a).message;F(s,o)}w.style.display="none"};
