import{g as L}from"./cards-BE1hCRJ6.js";import{initializeApp as E}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase as b,ref as C,get as x,child as q}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{GoogleAuthProvider as S,getAuth as j}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";const R={apiKey:"AIzaSyAc1-FWefRK9gNkaprncldWqK2jztLV43A",authDomain:"guesswhoitis-905ed.firebaseapp.com",databaseURL:"https://guesswhoitis-905ed-default-rtdb.firebaseio.com",projectId:"guesswhoitis-905ed",storageBucket:"guesswhoitis-905ed.firebasestorage.app",messagingSenderId:"72462712048",appId:"1:72462712048:web:a1ed1f84eb16b686b95635"},p=E(R);b(p);new S(p);j(p);const M=document.getElementById("container"),f=window.innerWidth>600?200:150,i=f==150,h=i?125:150,a=document.getElementById("backgroundMusic"),u=document.getElementById("toggleHover"),A=Array.from({length:window.innerHeight},()=>Array(window.innerWidth).fill(!1)),H=document.getElementById("settingsBtn"),y=document.getElementById("loader"),v=["https://shorturl.at/j0LqN","https://shorturl.at/VBilJ","https://shorturl.at/qIdRM","https://shorturl.at/y9yVX","https://shorturl.at/McxQY","https://shorturl.at/vCwM6","https://shorturl.at/OhVhZ","https://shorturl.at/HwR7s","https://shorturl.at/3uafl","https://shorturl.at/2sb2E","https://shorturl.at/6YjXc","https://shorturl.at/ACnGT","https://shorturl.at/BWRPM","https://shorturl.at/TVAjm"];H.addEventListener("click",async e=>{window.location.href="/settings.html"});u.addEventListener("mousedown",function(){if(i)return;const e=document.querySelectorAll(".card"),o=document.querySelectorAll(".img");for(let t of e)t.classList.add("force-hover");for(let t of o)t.classList.add("force-hover")});u.addEventListener("mouseup",function(){if(i)return;const e=document.querySelectorAll(".card"),o=document.querySelectorAll(".img");for(let t of e)t.classList.remove("force-hover");for(let t of o)t.classList.remove("force-hover")});u.addEventListener("mouseleave",function(){if(i)return;const e=document.querySelectorAll(".card"),o=document.querySelectorAll(".img");for(let t of e)t.classList.remove("force-hover");for(let t of o)t.classList.remove("force-hover")});let m=!1;u.addEventListener("click",function(){if(i){if(m){const e=document.querySelectorAll(".card"),o=document.querySelectorAll(".img");for(let t of e)t.classList.remove("force-hover");for(let t of o)t.classList.remove("force-hover")}else{const e=document.querySelectorAll(".card"),o=document.querySelectorAll(".img");for(let t of e)t.classList.add("force-hover");for(let t of o)t.classList.add("force-hover")}m=!m}});function I(e,o){return Math.floor(Math.random()*(o-e+1))+e}function B({x:e,y:o},t,r){for(let c=o-10;c<o+r+11;c+=10)for(let s=e-10;s<e+t+11;s+=10)c<window.innerHeight&&s<window.innerWidth&&c>=0&&s>=0&&(A[c][s]=!0)}function k(e,o,t,r){const c=[];for(let s=60;s<=r-o-30;s+=10)for(let n=30;n<=t-e-30;n+=10){let l=!0;for(let d=s;d<s+o;d+=10){for(let g=n;g<n+e;g+=10)if(A[d][g]){l=!1;break}if(!l)break}l&&c.push({x:n,y:s})}return c}function w(e,o,t){const r=document.createElement("div");r.classList.add("card"),t&&r.classList.add("glow"),r.textContent=o;for(let n of e)L(n,r,f,h);const c=k(f,h,window.innerWidth,window.innerHeight),s=c[I(0,c.length)];s!=null&&(B(s,f,h),r.style.left=`${s.x}px`,r.style.top=`${s.y}px`,M.appendChild(r))}function W(e,o,t){if(e>o)throw new Error("No se pueden generar n números únicos entre 0 y m-1 si n > m");const r=Array.from({length:o},(n,l)=>l);for(let n=r.length-1;n>0;n--){const l=Math.floor(Math.random()*(n+1));[r[n],r[l]]=[r[l],r[n]]}const c=[];let s=0;for(;c.length<e;)r[s]!=t&&c.push(r[s]),s++;return c}function P(e){const o=C(b());return x(q(o,e)).then(t=>t.exists()?t.val():(console.log("No data available"),0)).catch(t=>(console.error(t),0))}window.onload=async function(){i&&(document.getElementById("backgroundMusic").style.width="100px",document.getElementById("toggleHover").style.right="-30px",document.getElementById("headerText").style.width="70%",document.getElementById("headerText").style.position="absolute",document.getElementById("headerText").style.left="22%"),B({x:a.getBoundingClientRect().top-a.getBoundingClientRect().top%10,y:a.getBoundingClientRect().left-a.getBoundingClientRect().left%10},a.offsetHeight,a.offsetWidth),y.style.display="block";const e=v[I(0,v.length-1)];a.src=e;const o=await P("/"),t=Object.values(o.wallpaper);let r=0;for(let n=1;n<t.length;n++)t.at(n).timestamp>t.at(r).timestamp&&(r=n);const c=Math.min(6,t.length),s=W(c,t.length,r);w(Object.values(t.at(r).effects),t.at(r).message,!0);for(let n=0;n<c;n++){const l=Object.values(t.at(s[n]).effects),d=t.at(s[n]).message;w(l,d)}y.style.display="none"};
