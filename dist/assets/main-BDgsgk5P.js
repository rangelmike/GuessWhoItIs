import{g as B}from"./cards-CzI-W0Rb.js";import{initializeApp as A}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase as m,ref as v,get as C,child as I}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";import{GoogleAuthProvider as R,getAuth as j}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";const E={apiKey:"AIzaSyAc1-FWefRK9gNkaprncldWqK2jztLV43A",authDomain:"guesswhoitis-905ed.firebaseapp.com",databaseURL:"https://guesswhoitis-905ed-default-rtdb.firebaseio.com",projectId:"guesswhoitis-905ed",storageBucket:"guesswhoitis-905ed.firebasestorage.app",messagingSenderId:"72462712048",appId:"1:72462712048:web:a1ed1f84eb16b686b95635"},u=A(E);m(u);new R(u);j(u);const W=document.getElementById("container"),c=window.innerWidth>600?200:150,g=c==200?150:125,a=document.getElementById("backgroundMusic"),w=Array.from({length:window.innerHeight},()=>Array(window.innerWidth).fill(!1)),k=document.getElementById("settingsBtn"),h=document.getElementById("loader"),p=["https://shorturl.at/j0LqN","https://shorturl.at/VBilJ","https://shorturl.at/qIdRM","https://shorturl.at/y9yVX"];k.addEventListener("click",async o=>{window.location.href="/settings.html"});function y(o,n){return Math.floor(Math.random()*(n-o+1))+o}function b({x:o,y:n},t,i){for(let e=n-10;e<n+i+11;e+=10)for(let r=o-10;r<o+t+11;r+=10)e<window.innerHeight&&r<window.innerWidth&&e>=0&&r>=0&&(w[e][r]=!0)}function x(o,n,t,i){const e=[];for(let r=30;r<=i-n;r+=10)for(let s=30;s<=t-o;s+=10){let l=!0;for(let d=r;d<r+n;d+=10){for(let f=s;f<s+o;f+=10)if(w[d][f]){l=!1;break}if(!l)break}l&&e.push({x:s,y:r})}return e}function M(o,n){const t=document.createElement("div");t.classList.add("card"),t.textContent=n;for(let r of o)B(r,t,c,g);const i=x(c,g,window.innerWidth,window.innerHeight),e=i[y(0,i.length)];e!=null&&(b(e,c,g),t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,W.appendChild(t))}function H(o,n){if(o>n)throw new Error("No se pueden generar n números únicos entre 0 y m-1 si n > m");const t=Array.from({length:n},(i,e)=>e);for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[t[i],t[e]]=[t[e],t[i]]}return t.slice(0,o)}function L(o){const n=v(m());return C(I(n,o)).then(t=>t.exists()?t.val():(console.log("No data available"),0)).catch(t=>(console.error(t),0))}window.onload=async function(){b({x:a.getBoundingClientRect().top-a.getBoundingClientRect().top%10,y:a.getBoundingClientRect().left-a.getBoundingClientRect().left%10},a.offsetHeight,a.offsetWidth),h.style.display="block";const o=p[y(0,p.length-1)];a.src=o;const n=Object.values(await L("/")),t=Math.min(7,n.length),i=H(t,n.length);for(let e=0;e<t;e++){const r=Object.values(n.at(i[e]).effects),s=n.at(i[e]).message;M(r,s)}h.style.display="none"};
